# Shadowrocket æç®€è®¢é˜…é…ç½® - 2026.01.04 æœ€ç»ˆæ•´åˆç‰ˆ
# ä½¿ç”¨æ–¹å¼ï¼šå¯¼å…¥è®¢é˜…é“¾æ¥ + æ¨¡å—ï¼ˆå»å¹¿å‘Š/åˆ†æµ/è‡ªå®šä¹‰è¡¥ä¸ï¼‰
# èŠ‚ç‚¹è‡ªåŠ¨åˆ†ç»„ + è‡ªåŠ¨ä½å»¶è¿Ÿ + å…œåº•é¦™æ¸¯ + DNS/è·¯ç”±ä¾‹å¤–å…¨è¦†ç›–

[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local,
             192.168.1.1, 192.168.1.100,
             time.apple.com, time.asia.apple.com, time2.apple.com,
             *.icloud.com, *.icloud-content.com, *.me.com,
             *.mzstatic.com, *.cdn-apple.com, *.itunes.apple.com, *.appstore.com,
             *.taobao.com, *.tmall.com, *.jd.com, *.alipay.com, *.alipayobjects.com,
             *.qq.com, *.weixin.qq.com, *.wx.qq.com, *.mmstat.com,
             *.163.com, *.126.com, *.126.net,
             114.114.114.114, 223.5.5.5, 119.29.29.29, 180.76.76.76,
             61.139.2.69, 218.85.152.99
ipv6 = false

# DNS é˜²æ±¡æŸ“
dns-server = system, https://dns.google/dns-query, https://cloudflare-dns.com/dns-query, tls://1.1.1.1:853, 223.5.5.5, 119.29.29.29
doh-server = https://dns.google/dns-query, https://cloudflare-dns.com/dns-query
doh-server-fallback = 223.5.5.5, 119.29.29.29

# å®Œæ•´æœ¬åœ°/å±€åŸŸç½‘/å›½å†…ä¾‹å¤–è·¯ç”±
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local,
                      100.64.0.0/10, 169.254.0.0/16, 224.0.0.0/4, 240.0.0.0/4,
                      127.0.0.0/8, ::1/128, fc00::/7, fe80::/10,
                      0.0.0.0/8, 255.255.255.255/32,
                      114.114.114.114/32, 223.5.5.5/32, 119.29.29.29/32,
                      180.76.76.76/32, 61.139.2.69/32, 218.85.152.99/32

[Proxy Group]
# ä¸»é€‰æ‹©ç»„ï¼ˆæ‰‹åŠ¨é€‰æˆ–å…œåº•ï¼‰
Proxy = select, DIRECT, HK Auto, JP Auto, KR Auto, SG Auto, US Auto, TW Auto

# è‡ªåŠ¨åˆ†ç»„ + è‡ªåŠ¨é€‰ä½å»¶è¿Ÿï¼ˆæ ¹æ®èŠ‚ç‚¹åç§°å…³é”®è¯åŒ¹é…ï¼‰
HK Auto = url-test, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50,
          policy-regex-filter=(?=.*(HK|é¦™æ¸¯|Hong|æ¸¯|ğŸ‡­ğŸ‡°))

JP Auto = url-test, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50,
          policy-regex-filter=(?=.*(JP|æ—¥æœ¬|Japan|æ—¥|ğŸ‡¯ğŸ‡µ))

KR Auto = url-test, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50,
          policy-regex-filter=(?=.*(KR|éŸ©å›½|Korea|éŸ“|å—éŸ©|ğŸ‡°ğŸ‡·))

SG Auto = url-test, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50,
          policy-regex-filter=(?=.*(SG|æ–°åŠ å¡|Singapore|ç‹®åŸ|ğŸ‡¸ğŸ‡¬))

US Auto = url-test, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50,
          policy-regex-filter=(?=.*(US|ç¾å›½|USA|United States|ç¾|ğŸ‡ºğŸ‡¸))

TW Auto = url-test, url=http://www.gstatic.com/generate_204, interval=300, tolerance=50,
          policy-regex-filter=(?=.*(TW|å°æ¹¾|Taiwan|å°|ğŸ‡¹ğŸ‡¼))

[Rule]
# å…œåº•ï¼šæ‰€æœ‰æœªåŒ¹é…æµé‡ â†’ è‡ªåŠ¨é¦™æ¸¯ä½å»¶è¿ŸèŠ‚ç‚¹
FINAL, HK Auto

[URL Rewrite]
# è°·æ­Œæœç´¢å¼ºåˆ¶å›½é™…ç‰ˆ
^http://www.google.cn https://www.google.com 302
^https://www.google.cn https://www.google.com 302
^http://google.cn https://www.google.com 302
^https://google.cn https://www.google.com 302

# ç™¾åº¦æœç´¢é˜²åŠ«æŒï¼ˆå¯é€‰ï¼Œé˜²æ­¢ç™¾åº¦å¼ºåˆ¶ HTTPS æˆ–å¹¿å‘Šï¼‰
^http://www.baidu.com https://www.baidu.com 302

# å¼ºåˆ¶æŸäº›æœåŠ¡èµ° HTTPSï¼ˆæå‡å®‰å…¨ï¼‰
^http://([^\s]+)$ https://$1 302

#!mitm
hostname = 
  *.google.com, *.googleapis.com, *.gstatic.com, *.googleusercontent.com,  # è°·æ­Œå…¨å®¶æ¡¶
  *.youtube.com, *.ytimg.com, *.youtu.be, *.ggpht.com,  # YouTube
  *.openai.com, *.chatgpt.com, *.oaiusercontent.com,  # ChatGPT/OpenAI
  *.instagram.com, *.cdninstagram.com, *.threads.net,  # Instagram/Threads
  *.facebook.com, *.fbcdn.net, *.meta.com,  # Facebook/Meta
  *.tiktok.com, *.tiktokcdn.com, *.byteoversea.com,  # TikTok
  *.telegram.org, *.t.me, *.tdesktop.com,  # Telegram
  *.netflix.com, *.nflximg.net, *.nflxvideo.net,  # Netflixï¼ˆè§£é”åœ°åŒºå†…å®¹ï¼‰
  *.disneyplus.com, *.bamgrid.com,  # Disney+
  *.spotify.com, *.scdn.co  # Spotify
